<p-panel [toggleable]="true">
  <p-header>
    <span>Family {{ index + 1 }}</span>
    <span *ngIf="spouse()">&nbsp;-&nbsp;</span>
    <app-person-family-spouse *ngIf="spouse()"
        [dataset]="dataset" [parent]="this" [attribute]="spouse()"></app-person-family-spouse>
    <span *ngIf="spouse()">
      <p-button (click)="unlink()" icon="fa fa-fw fa-unlink"
          [styleClass]="'ui-button-warning'" pTooltip="Unlink self from family"></p-button>
    </span>
    <span *ngIf="!spouse()" class="bump-out">
      <app-new-person
          [sex]="sex" [surname]="surname" [label]="'Create spouse'"
          (emitOK)="createPerson($event)"></app-new-person>
      <app-link-person
          [parent]="this" [multi]="false" [label]="'Link parent'"
          (emitOK)="linkParent($event)"></app-link-person>
      <p-button (click)="unlink()" icon="fa fa-fw fa-unlink"
          [styleClass]="'ui-button-warning'" pTooltip="Unlink self from family"></p-button>
    </span>
  </p-header>
  <div class="ui-g">
    <div class="ui-g-1"></div>
    <div class="ui-g-10">
      <app-attribute-list [dataset]="dataset" [attributes]="family?.attributes" [parent]="this" [styleClass]="'ui-panel-titlebar-success'"></app-attribute-list>
    </div>
    <div class="ui-g-1"></div>
  </div>
  <div class="ui-g">
    <div class="ui-g-1"></div>
    <div class="ui-g-10">
      <p-panel header="Images" styleClass="ui-panel-titlebar-success">
        <ngx-gallery *ngIf="family?.images.length" [options]="galleryOptions" [images]="galleryImages()"></ngx-gallery>
      </p-panel>
    </div>
    <div class="ui-g-1"></div>
  </div>
  <app-person-family-child-list *ngIf="family?.children" [children]="family?.children" [family]="family" [parent]="this" [dataset]="dataset"></app-person-family-child-list>
</p-panel>
<br/>
